(function(){"use strict";var e={1948:function(e,s,l){var r=l(9242),n=l(3396),a=l(2328);const i={class:"app"},t={class:"cars-container"},c={key:0,src:a,alt:"loading",class:"spinner"};function u(e,s,l,r,a,u){const o=(0,n.up)("Filters"),f=(0,n.up)("CarCard");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n.Wm)(o,{onFiltersChange:u.filterCars,"fuel-res-numbers":a.fuelResNumbers,"wheels-res-numbers":a.wheelsResNumbers},null,8,["onFiltersChange","fuel-res-numbers","wheels-res-numbers"]),(0,n._)("div",t,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.filteredCars,(e=>((0,n.wg)(),(0,n.j4)(f,{key:e.id,"car-details":e},null,8,["car-details"])))),128)),a.resSuccess?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("img",c))])])}var o=l(7139);const f=e=>((0,n.dD)("data-v-2b5f8dfa"),e=e(),(0,n.Cn)(),e),d={class:"filters"},h=f((()=>(0,n._)("h5",{class:"c-primary fs-18 font-700"},"Orkugjafi",-1))),p={class:"filter-item"},m=["value"],_={for:"electric"},b=f((()=>(0,n._)("span",{class:"checkmark"},null,-1))),y={class:"filter-item"},g=["value"],v={for:"plug-in-hybrid"},w=f((()=>(0,n._)("span",{class:"checkmark"},null,-1))),D={class:"filter-item"},C=["value"],E={for:"hybrid"},R=f((()=>(0,n._)("span",{class:"checkmark"},null,-1))),k=f((()=>(0,n._)("h5",{class:"c-primary fs-18 font-700"},"Drif",-1))),F={class:"filter-item"},N=["value"],T={for:"all"},L=f((()=>(0,n._)("span",{class:"checkmark"},null,-1))),I={class:"filter-item"},B=["value"],H={for:"front"},U=f((()=>(0,n._)("span",{class:"checkmark"},null,-1))),Y={class:"filter-item"},j=["value"],O={for:"rear"},z=f((()=>(0,n._)("span",{class:"checkmark"},null,-1)));function A(e,s,l,a,i,t){return(0,n.wg)(),(0,n.iD)("div",d,[(0,n._)("form",null,[h,(0,n._)("div",p,[(0,n.wy)((0,n._)("input",{type:"checkbox",id:"electric",name:"electric",value:i.FUEL_TYPES.ELECTRIC,"onUpdate:modelValue":s[0]||(s[0]=e=>i.fuelType=e),onChange:s[1]||(s[1]=(...e)=>t.onFiltersChange&&t.onFiltersChange(...e))},null,40,m),[[r.e8,i.fuelType]]),(0,n._)("label",_,"100% Rafmagn ("+(0,o.zw)(l.fuelResNumbers.electric)+")",1),b]),(0,n._)("div",y,[(0,n.wy)((0,n._)("input",{type:"checkbox",id:"plug-in-hybrid",name:"plugInHybrid",value:i.FUEL_TYPES.PLUG_IN_HYBRID,"onUpdate:modelValue":s[2]||(s[2]=e=>i.fuelType=e),onChange:s[3]||(s[3]=(...e)=>t.onFiltersChange&&t.onFiltersChange(...e))},null,40,g),[[r.e8,i.fuelType]]),(0,n._)("label",v,"Plug-in Hybrid ("+(0,o.zw)(l.fuelResNumbers.plugInHybrid)+")",1),w]),(0,n._)("div",D,[(0,n.wy)((0,n._)("input",{type:"checkbox",id:"hybrid",name:"hybrid",value:i.FUEL_TYPES.HYBRID,"onUpdate:modelValue":s[4]||(s[4]=e=>i.fuelType=e),onChange:s[5]||(s[5]=(...e)=>t.onFiltersChange&&t.onFiltersChange(...e))},null,40,C),[[r.e8,i.fuelType]]),(0,n._)("label",E,"Hybrid ("+(0,o.zw)(l.fuelResNumbers.hybrid)+")",1),R])]),(0,n._)("form",null,[k,(0,n._)("div",F,[(0,n.wy)((0,n._)("input",{type:"checkbox",id:"all",name:"all",value:i.WHEELS_DRIVEN.ALL,"onUpdate:modelValue":s[6]||(s[6]=e=>i.wheelsDriven=e),onChange:s[7]||(s[7]=(...e)=>t.onFiltersChange&&t.onFiltersChange(...e))},null,40,N),[[r.e8,i.wheelsDriven]]),(0,n._)("label",T,"Fjórhjóladrif ("+(0,o.zw)(l.wheelsResNumbers.all)+")",1),L]),(0,n._)("div",I,[(0,n.wy)((0,n._)("input",{type:"checkbox",id:"front",name:"front",value:i.WHEELS_DRIVEN.FRONT,"onUpdate:modelValue":s[8]||(s[8]=e=>i.wheelsDriven=e),onChange:s[9]||(s[9]=(...e)=>t.onFiltersChange&&t.onFiltersChange(...e))},null,40,B),[[r.e8,i.wheelsDriven]]),(0,n._)("label",H,"Framhjóladrif ("+(0,o.zw)(l.wheelsResNumbers.front)+")",1),U]),(0,n._)("div",Y,[(0,n.wy)((0,n._)("input",{type:"checkbox",id:"rear",name:"rear",value:i.WHEELS_DRIVEN.REAR,"onUpdate:modelValue":s[10]||(s[10]=e=>i.wheelsDriven=e),onChange:s[11]||(s[11]=(...e)=>t.onFiltersChange&&t.onFiltersChange(...e))},null,40,j),[[r.e8,i.wheelsDriven]]),(0,n._)("label",O,"Afturhjóladrif ("+(0,o.zw)(l.wheelsResNumbers.rear)+")",1),z])])])}const V={PLUG_IN_HYBRID:"tengiltvinn",ELECTRIC:"rafmagn",HYBRID:"hybrid"},P={FRONT:"framhjóladrifinn",REAR:"afturhjóladrifinn",ALL:"fjórhjóladrifinn"},S={FUEL_TYPE_KEY:"fuel_type",WHEELS_DRIVEN_KEY:"wheels_driven"};var x={name:"Filters",props:{fuelResNumbers:Object,wheelsResNumbers:Object},data(){return{FUEL_TYPES:V,WHEELS_DRIVEN:P,fuelType:[],wheelsDriven:[]}},methods:{onFiltersChange(){this.$emit("filters-change",{fuelType:this.fuelType,wheelsDriven:this.wheelsDriven})}}},W=l(89);const K=(0,W.Z)(x,[["render",A],["__scopeId","data-v-2b5f8dfa"]]);var q=K;const Z={class:"card"},G={class:"fuel"},M={key:0,class:"rafmagn"},$=(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"19",viewBox:"0 0 20 19",fill:"none"},[(0,n._)("path",{d:"M19.5136 15.5727C17.0252 15.1749 16.8378 14.795 16.8378 14.795C17.3491 11.5833 15.764 7.51663 13.1677 5.31413C9.71918 2.38735 4.46973 4.51268 0.384927 0.0601786C-0.569519 -0.978738 -0.0127588 11.7139 5.10034 16.5226C8.83859 20.0371 13.2415 18.9566 14.4516 18.3807C15.5481 17.8583 16.3151 16.9025 16.3151 16.9025C18.3092 17.5437 19.2977 17.508 19.2977 17.508C19.9965 17.5971 20.3488 15.7033 19.5136 15.5727ZM14.9573 15.7864C8.40682 13.762 3.48119 6.65582 3.48119 6.65582C3.48119 6.65582 7.80461 11.9869 15.4231 14.5813C15.4345 14.985 15.2072 15.5608 14.9573 15.7864Z",fill:"#2FCD2F"})],-1),J=(0,n._)("span",{class:"badge"},"Væntanlegur",-1),Q={key:2},X=["src"],ee={class:"c-primary font-700"},se={class:"parameters"},le={class:"param-item"},re=(0,n.Uk)(" Verð frá: "),ne={class:"c-primary value"},ae={class:"fs-16 font-700"},ie=(0,n.Uk)(" kr."),te={key:0,class:"param-item"},ce=(0,n.Uk)(" Drægni "),ue={class:"c-primary value"},oe={class:"fs-16 font-700"},fe=(0,n.Uk)(" km"),de={key:1,class:"param-item"},he=(0,n.Uk)(" Eyðsla frá "),pe={class:"c-primary value"},me={class:"fs-16 font-700"},_e=(0,n.Uk)(" l/100km"),be={key:2,class:"param-item"},ye=(0,n.Uk)(" Rafhlaða "),ge={class:"c-primary value"},ve={class:"fs-16 font-700"},we=(0,n.Uk)(" kWh");function De(e,s,l,r,a,i){return(0,n.wg)(),(0,n.iD)("div",Z,[(0,n._)("div",G,[i.fuelTypes.electric?((0,n.wg)(),(0,n.iD)("span",M,[(0,n._)("span",null,[$,(0,n.Uk)(" "+(0,o.zw)(i.fuelTypes.electric.fuel_type.display_name),1)]),J])):(0,n.kq)("",!0),i.fuelTypes.plugInHybrid?((0,n.wg)(),(0,n.iD)("span",{key:1,class:(0,o.C_)({"with-neighbour":i.fuelTypes.hybrid})},(0,o.zw)(i.fuelTypes.plugInHybrid.fuel_type.display_name),3)):(0,n.kq)("",!0),i.fuelTypes.hybrid?((0,n.wg)(),(0,n.iD)("span",Q,(0,o.zw)(i.fuelTypes.hybrid.fuel_type.display_name),1)):(0,n.kq)("",!0)]),(0,n._)("img",{src:l.carDetails.model?.thumbnail.data.full_url,alt:"",class:"car-img"},null,8,X),(0,n._)("h4",ee,(0,o.zw)(l.carDetails.brand?.name),1),(0,n._)("div",se,[(0,n._)("div",le,[re,(0,n._)("div",ne,[(0,n._)("span",ae,(0,o.zw)(l.carDetails.price),1),ie])]),!i.fuelTypes.plugInHybrid&&l.carDetails.tech_spec?.range?((0,n.wg)(),(0,n.iD)("div",te,[ce,(0,n._)("div",ue,[(0,n._)("span",oe,(0,o.zw)(l.carDetails.tech_spec.range),1),fe])])):(0,n.kq)("",!0),l.carDetails.tech_spec?.fuel_consumption_combined?((0,n.wg)(),(0,n.iD)("div",de,[he,(0,n._)("div",pe,[(0,n._)("span",me,(0,o.zw)(l.carDetails.tech_spec?.fuel_consumption_combined),1),_e])])):(0,n.kq)("",!0),l.carDetails.tech_spec?.battery_size?((0,n.wg)(),(0,n.iD)("div",be,[ye,(0,n._)("div",ge,[(0,n._)("span",ve,(0,o.zw)(l.carDetails.tech_spec?.battery_size),1),we])])):(0,n.kq)("",!0)])])}var Ce={name:"CarCard",props:{carDetails:{type:Object,default:()=>({})}},computed:{fuelTypes(){const e=this.carDetails.model?this.carDetails.model.tech_spec:[this.carDetails.tech_spec];return{plugInHybrid:e.find((e=>e.fuel_type.name.toLowerCase().includes(V.PLUG_IN_HYBRID))),electric:e.find((e=>e.fuel_type.name.toLowerCase().includes(V.ELECTRIC))),hybrid:e.find((e=>e.fuel_type.name.toLowerCase().includes(V.HYBRID)))}}}};const Ee=(0,W.Z)(Ce,[["render",De]]);var Re=Ee,ke=l(6265),Fe=l.n(ke);const Ne="https://vel.bl.is/_/items/Price?fields%5B0%5D=%2A.%2A&fields%5B1%5D=model.name&fields%5B2%5D=model.id&fields%5B3%5D=model.slug&fields%5B4%5D=model.thumbnail.data.full_url&fields%5B5%5D=model.brand.name&fields%5B6%5D=model.brand.slug&fields%5B7%5D=model.price_text&fields%5B8%5D=price&fields%5B9%5D=id&fields%5B10%5D=tech_spec.%2A.%2A&fields%5B11%5D=version.model.filter.model_filters_id&fields%5B12%5D=model.tech_spec.%2A.%2A",Te=()=>Fe().get(Ne).then((({data:e})=>e));var Le={name:"App",components:{CarCard:Re,Filters:q},data(){return{cars:[],filteredCars:[],fuelResNumbers:{},wheelsResNumbers:{},resSuccess:!1}},methods:{getAllCars(){Te().then((({data:e})=>{this.cars=e,this.filteredCars=e,this.groupFuelResNumbers(e),this.groupWheelsResNumbers(e),this.resSuccess=!0}))},calcFilterResNumber(e,s,l){return l.filter((l=>{const r=l.model?l.model.tech_spec:[l.tech_spec];return r.some((l=>l[e].name.toLowerCase().includes(s)))})).length},groupFuelResNumbers(e){const s=S.FUEL_TYPE_KEY;this.fuelResNumbers={electric:this.calcFilterResNumber(s,V.ELECTRIC,e),plugInHybrid:this.calcFilterResNumber(s,V.PLUG_IN_HYBRID,e),hybrid:this.calcFilterResNumber(s,V.HYBRID,e)}},groupWheelsResNumbers(e){const s=S.WHEELS_DRIVEN_KEY;this.wheelsResNumbers={all:this.calcFilterResNumber(s,P.ALL,e),front:this.calcFilterResNumber(s,P.FRONT,e),rear:this.calcFilterResNumber(s,P.REAR,e)}},filterCars(e){const s=this.filterBy(S.FUEL_TYPE_KEY,e.fuelType,this.cars),l=this.filterBy(S.WHEELS_DRIVEN_KEY,e.wheelsDriven,this.cars);this.groupFuelResNumbers(l),this.groupWheelsResNumbers(s),this.filteredCars=this.filterBy(S.WHEELS_DRIVEN_KEY,e.wheelsDriven,s)},filterBy(e,s,l){return s.length?l.filter((l=>{const r=l.model?l.model.tech_spec:[l.tech_spec];return r.some((l=>s.some((s=>l[e].name.toLowerCase().includes(s)))))})):l}},mounted(){this.getAllCars()}};const Ie=(0,W.Z)(Le,[["render",u]]);var Be=Ie;(0,r.ri)(Be).mount("#app")},2328:function(e,s,l){e.exports=l.p+"img/spinner.cb5ff26d.gif"}},s={};function l(r){var n=s[r];if(void 0!==n)return n.exports;var a=s[r]={exports:{}};return e[r](a,a.exports,l),a.exports}l.m=e,function(){var e=[];l.O=function(s,r,n,a){if(!r){var i=1/0;for(o=0;o<e.length;o++){r=e[o][0],n=e[o][1],a=e[o][2];for(var t=!0,c=0;c<r.length;c++)(!1&a||i>=a)&&Object.keys(l.O).every((function(e){return l.O[e](r[c])}))?r.splice(c--,1):(t=!1,a<i&&(i=a));if(t){e.splice(o--,1);var u=n();void 0!==u&&(s=u)}}return s}a=a||0;for(var o=e.length;o>0&&e[o-1][2]>a;o--)e[o]=e[o-1];e[o]=[r,n,a]}}(),function(){l.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(s,{a:s}),s}}(),function(){l.d=function(e,s){for(var r in s)l.o(s,r)&&!l.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:s[r]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){l.p="/narine-test-task/"}(),function(){var e={143:0};l.O.j=function(s){return 0===e[s]};var s=function(s,r){var n,a,i=r[0],t=r[1],c=r[2],u=0;if(i.some((function(s){return 0!==e[s]}))){for(n in t)l.o(t,n)&&(l.m[n]=t[n]);if(c)var o=c(l)}for(s&&s(r);u<i.length;u++)a=i[u],l.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return l.O(o)},r=self["webpackChunkcars"]=self["webpackChunkcars"]||[];r.forEach(s.bind(null,0)),r.push=s.bind(null,r.push.bind(r))}();var r=l.O(void 0,[998],(function(){return l(1948)}));r=l.O(r)})();
//# sourceMappingURL=app.b1aeea8f.js.map